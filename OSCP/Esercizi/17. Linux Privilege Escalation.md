
# 17.1. Enumerating Linux

## 17.1.1. Understanding Files and Users Privileges on Linux

```bash
ls -l /etc/shadow
```

## 17.1.2. Manual Enumeration

```bash
id

cat /etc/passwd

hostname

cat /etc/issue

cat /etc/os-release

uname -a

ps aux

ip a

routel

ss -anp

cat /etc/iptables/rules.v4

ls -lah /etc/cron*

crontab -l

sudo crontab -l

dpkg -l

find / -writable -type d 2>/dev/null

cat /etc/fstab

mount

lsblk

lsmod

/sbin/modinfo nome_di_uno_specifico_modulo

find / -perm -u=s -type f 2>/dev/null
```

- https://blog.g0tmi1k.com/2011/08/basic-linux-privilege-escalation/
- https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/Methodology%20and%20Resources/Linux%20-%20Privilege%20Escalation.md
- https://book.hacktricks.xyz/linux-hardening/privilege-escalation

## 17.1.3. Automated Enumeration

```bash
sudo apt install unix-privesc-check

unix-privesc-check standard > output.txt
```

- https://github.com/rebootuser/LinEnum
- https://github.com/peass-ng/PEASS-ng
# 17.2. Exposed Confidential Information

## 17.2.1. Inspecting User Trails

```bash
env

cat .bashrc

su - root

sudo -l

sudo -i (SE HA TUTTI I PERMESSI CON SUDO)
```

Data la password _lab_ trovata per uno specifico user, si potrebbe generare una wordlist da utilizzare per altri utenti:

```bash
crunch 6 6 -t Lab%%% > wordlist

hydra -l nome_utente -P wordlist  $IP -t 4 ssh -V
```

## 17.2.2. Inspecting Service Footprints

```bash
watch -n 1 "ps -aux | grep pass"

sudo tcpdump -i lo -A | grep "pass"
```

## 17.3. Insecure File Permissions

```bash
grep "CRON" /var/log/syslog
```